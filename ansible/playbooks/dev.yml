---
- name: Install development tools
  hosts: localhost
  tags: [dev, development]
  gather_facts: yes

  roles:
    # Editors and Git
    - role: neovim
      tags: [editor, dev]
    - role: lazygit
      tags: [git, dev]
    - role: opencode
      tags: [editor, dev]
    - role: claude-code
      tags: [editor, dev, ai]

    # Linters
    - role: ansible-lint
      tags: [linter, dev]
    - role: vale
      tags: [linter, dev]
    - role: hadolint
      tags: [linter, dev, docker]
    - role: clippy
      tags: [linter, dev, rust]
    - role: ruff
      tags: [linter, formatter, dev, python]
    - role: mypy
      tags: [linter, type-checker, dev, python]

    # Language Servers
    - role: yaml-language-server
      tags: [lsp, dev]
    - role: marksman
      tags: [lsp, dev]
    - role: lua-language-server
      tags: [lsp, dev]
    - role: bash-language-server
      tags: [lsp, dev]
    - role: rust-analyzer
      tags: [lsp, dev, rust]
    - role: basedpyright
      tags: [lsp, dev, python]

    # Formatters
    - role: stylua
      tags: [formatter, dev, lua]
    - role: biome
      tags: [formatter, linter, dev]
    - role: prettier
      tags: [formatter, dev]
    - role: rustfmt
      tags: [formatter, dev, rust]

    # Languages
    - role: lua
      tags: [language, dev, lua]
    - role: rustc
      tags: [language, dev, rust]
    - role: wasm32-wasi
      tags: [language, dev, rust, wasm, webassembly]
    - role: wasmtime
      tags: [language, dev, wasm]

    # Package Managers
    - role: luarocks
      tags: [package-manager, dev, lua]
    - role: cargo
      tags: [package-manager, dev, rust]
    - role: uv
      tags: [package-manager, dev, python]
    - role: ansible
      tags: [package-manager, dev, automation, kubernetes, k8s, openshift]

    # CLI Tools
    - role: treesitter_cli
      tags: [cli, dev, parser]
    - role: glow
      tags: [cli, dev, markdown]
    - role: mermaid_cli
      tags: [cli, dev, diagram]
    - role: sqlite3
      tags: [cli, dev, database]
    - role: spin
      tags: [cli, dev, wasm, webassembly, fermyon]
    - role: kubectl
      tags: [cli, dev, kubernetes, k8s]
    - role: helm
      tags: [cli, dev, kubernetes, k8s]
    - role: terraform
      tags: [cli, dev, terraform, iac]
    - role: minikube
      tags: [cli, dev, kubernetes, k8s, local, minikube]
    - role: podman
      tags: [cli, dev, docker, container, podman]
    - role: podman-compose
      tags: [cli, dev, docker, compose, podman, podman-compose]

    # Debuggers
    - role: codelldb
      tags: [debugger, dev, rust]
    - role: debugpy
      tags: [debugger, dev, python]
